<div class="card-manager-container">
	<div class="card-manager-layout">
		<!-- Botón de filtros solo visible en móvil, fuera del sidebar -->
		<button class="open-filters-btn" *ngIf="isMobileView && !sidebarOpen" (click)="toggleSidebar()">
			<span class="material-icons">filter_list</span> Filtros
		</button>
		<!-- Sidebar deslizable -->
		<aside class="sidebar" [class.sidebar-mobile-open]="sidebarOpen" *ngIf="!isMobileView || sidebarOpen">
			<button class="close-filters-btn" *ngIf="isMobileView" (click)="toggleSidebar()">
				<span class="material-icons">close</span>
			</button>
			<div class="filters-col">
				<div class="filter-item">
					<app-search-bar (search)="onUserIdSearch($event)" placeholder="Buscar por Id usuario..."></app-search-bar>
				</div>
				<div class="filter-item">
					<app-search-bar (search)="onApartmentIdSearch($event)" placeholder="Buscar por Id apartamento..."></app-search-bar>
				</div>
				<div class="filter-item">
					<app-search-bar (search)="onStatusIdSearch($event)" placeholder="Buscar por Id estado..."></app-search-bar>
				</div>
				<div class="filter-item">
					<app-date-range-filter label="Rango de fechas" (dateRangeChange)="onDateRangeChange($event)"></app-date-range-filter>
				</div>
			</div>
		</aside>
		<main class="main-content">
			<div *ngIf="cargando">Cargando contratos...</div>
			<table *ngIf="!cargando" class="table table-striped align-middle">
				<thead class="table-light">
					<tr>
						<th>#</th>
						<th>Id usuario</th>
						<th>Id apartamento</th>
						<th>Fecha de inicio</th>
						<th>Fecha de fin</th>
						<th>Id estado</th>
					</tr>
				</thead>
				<tbody>
					<tr *ngFor="let rental of rentals">
						<td>{{ rental.id }}</td>
						<td>{{ rental.userId }}</td>
						<td>{{ rental.apartmentId }}</td>
						<td>{{ rental.startDate | date: 'dd/MM/yyyy' }}</td>
						<td>{{ rental.endDate | date: 'dd/MM/yyyy' }}</td>
						<td>{{ getStatusName(rental.statusId) }}</td>
					</tr>
				</tbody>
			</table>
			<div class="paginador-footer-space">
				<div class="d-flex justify-content-center mt-4">
					<app-paginador [page]="page" [pageSize]="pageSize" [totalItems]="totalCount" (pageChange)="onPageChange($event)"
						(pageSizeChange)="onPageSizeChange($event)">
					</app-paginador>
				</div>
			</div>
		</main>
	</div>
</div>
