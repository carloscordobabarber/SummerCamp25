
<div class="card-manager-container">
  <div *ngIf="redirectMessage" class="alert alert-warning" style="margin-bottom: 1em;">
    {{ redirectMessage }}
  </div>
  <div class="card-manager-layout">
    <aside class="sidebar">
      <div class="filters-col">
        <div class="filter-item">
          <div class="slider-area-limit">
            <app-slider-filter label="Área (m²)" [min]="20" [max]="250" [step]="5" [(value)]="area" (valueChange)="onAreaChange($event)"></app-slider-filter>
          </div>
        </div>
        <div class="filter-item">
          <app-range-slider-filter label="Precio (€)" [min]="200" [max]="5000" [step]="50" [minValue]="minPrice" [maxValue]="maxPrice" (rangeChange)="onPriceRangeChange($event)"></app-range-slider-filter>
        </div>

        <div class="filter-item">
          <app-search-bar (search)="onRoomsSearch($event)" placeholder="Número de habitaciones..."></app-search-bar>
        </div>
        <div class="filter-item">
          <app-search-bar (search)="onBathroomsSearch($event)" placeholder="Número de baños..."></app-search-bar>
        </div>
        <div class="filter-item">
          <label><input type="checkbox" [(ngModel)]="hasLift" (change)="loadApartments()"> Ascensor</label>
        </div>
        <div class="filter-item">
          <label><input type="checkbox" [(ngModel)]="hasGarage" (change)="loadApartments()"> Garaje</label>
        </div>
                <div class="filter-item" style="margin-top: 1.5em; text-align: center;">
          <button class="btn btn-outline-secondary" (click)="resetFilters()">
            Resetear filtros
          </button>
        </div>
      </div>
    </aside>
    <main class="main-content">
      <div class="cards">
        <div class="card-item" *ngFor="let apt of apartments">
          <app-cards [apartment]="apt"></app-cards>
        </div>
      </div>
      <div class="paginator">
        <app-paginador
          [page]="page"
          [pageSize]="pageSize"
          [totalItems]="totalCount"
          (pageChange)="onPageChange($event)"
          (pageSizeChange)="onPageSizeChange($event)">
        </app-paginador>
      </div>
    </main>
  </div>
</div>

