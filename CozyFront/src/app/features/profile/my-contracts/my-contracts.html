<div class="container mt-4">
  <h2 class="mb-4">Mis contracts</h2>

  <table class="table table-hover">
    <thead class="table-light">
      <tr>
        <th>Distrito</th>
        <th>Dirección</th>
        <th>Fecha Inicio</th>
        <th>Fecha Fin</th>
        <th>Precio</th>
        <th>Estado</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let contract of contracts" (dblclick)="openContract(contract)" style="cursor: pointer;">
        <td>{{ contract.districtName }}</td>
        <td>
          {{ contract.streetName }}
          <span *ngIf="contract.portal">, {{ contract.portal }}</span>
          <span *ngIf="contract.floor">, {{ contract.floor }}</span>
          <span *ngIf="contract.apartmentDoor">, {{ contract.apartmentDoor }}</span>
        </td>
        <td>{{ contract.startDate | date:'dd/MM/yyyy' }}</td>
        <td>{{ contract.endDate | date:'dd/MM/yyyy' }}</td>
        <td>{{ contract.apartmentPrice | currency:'EUR':'symbol':'1.0-0' }}</td>
        <td>
          <span class="badge bg-info">{{ contract.statusName }}</span>
        </td>
      </tr>
    </tbody>
  </table>
</div>

<!-- Modal Bootstrap -->
<div #contractModal class="modal fade" tabindex="-1" aria-labelledby="contractModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">

      <div class="modal-header">
        <h5 class="modal-title" id="contractModalLabel">Detalle del contract</h5>
        <button type="button" class="btn-close" aria-label="Cerrar" (click)="closeContract()"></button>
      </div>

      <div class="modal-body" *ngIf="selectedContract">
        <h4>contract de alquiler</h4>
        <p><strong>Distrito:</strong> {{ selectedContract.districtName }}</p>
        <p><strong>Dirección:</strong> {{ selectedContract.streetName }}<span *ngIf="selectedContract.portal">, {{ selectedContract.portal }}</span><span *ngIf="selectedContract.floor">, {{ selectedContract.floor }}</span><span *ngIf="selectedContract.apartmentDoor">, {{ selectedContract.apartmentDoor }}</span></p>
        <p><strong>Fecha Inicio:</strong> {{ selectedContract.startDate | date:'dd/MM/yyyy' }}</p>
        <p><strong>Fecha Fin:</strong> {{ selectedContract.endDate | date:'dd/MM/yyyy' }}</p>
        <p><strong>Precio:</strong> {{ selectedContract.apartmentPrice | currency:'EUR':'symbol':'1.0-0' }}</p>
        <p><strong>Estado:</strong> {{ selectedContract.statusName }}</p>
        <hr />
        <p>
          Aquí iría la simulación del contract con toda la información legal y detalles específicos que quieras mostrar.
        </p>
      </div>

      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" (click)="closeContract()">Cerrar</button>
      </div>

    </div>
  </div>
</div>


